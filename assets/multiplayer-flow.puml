@startuml Multiplayer Race Flow

title How Multiplayer Racing Works

!theme plain
skinparam backgroundColor white
skinparam defaultFontSize 14

actor "Player 1\n(Host)" as Host
actor "Player 2" as P2

rectangle "Server" as Server

' Room Creation
Host -> Server : <b>1.</b> Create Race Room
Server -> Host : <b>2.</b> Room Created

' Players Join
P2 -> Server : <b>3.</b> Join Room
Server -> Host : <b>4.</b> Player 2 Joined
Server -> P2 : <b>5.</b> Welcome to Room

' Race Start
Host -> Server : <b>6.</b> Start Race
Server -> Host : <b>7.</b> Game Starts! 3... 2... 1... GO!
Server -> P2 : <b>8.</b> Game Starts! 3... 2... 1... GO!


' During Race
Host -> Server : <b>9.</b> Typing Progress
P2 -> Server : <b>10.</b> Typing Progress


Server -> Host : Live Rankings
Server -> P2 : Live Rankings

' Race End
P2 -> Server : <b>11.</b> Finished!
Server -> Host : <b>12.</b> P2 Finished 1st
Server -> P2 : <b>13.</b> You Won!

Host -> Server : <b>14.</b> Finished!
Server -> P2 : <b>15.</b> Host Finished 2nd


note bottom of Server
  Coordinates everything:
  • Room management
  • Real-time updates
  • Race synchronization
  • Results tracking
end note

@enduml
